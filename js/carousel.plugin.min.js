!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,(function(){"use strict";var e="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function t(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function a(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function n(e){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(e)}function i(e){var t,n=(e=0<arguments.length&&void 0!==e?e:{}).id;e=e.url;if(!(e=n||e))throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=e,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(e);if(a(e))return e.replace("http:","https:");if(n)throw new TypeError("“".concat(n,"” is not a valid video id."));throw new TypeError("“".concat(e,"” is not a vimeo.com url."))}var s=void 0!==Array.prototype.indexOf,o="undefined"!=typeof window&&void 0!==window.postMessage;if(!(e||s&&o))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var r,l,u;s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(u(this,"_id","_WeakMap_"+y()+"."+y()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function d(e,t){if(!h(e)||!r.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function y(){return Math.random().toString().substring(2)}function h(e){return Object(e)===e}(o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:s).WeakMap||(r=Object.prototype.hasOwnProperty,l=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(e){}}(),o.WeakMap=((u=function(e,t,a){l?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:a}):e[t]=a})(c.prototype,"delete",(function(e){var t;return d(this,"delete"),!!h(e)&&!(!(t=e[this._id])||t[0]!==e||(delete e[this._id],0))})),u(c.prototype,"get",(function(e){var t;return d(this,"get"),h(e)&&(t=e[this._id])&&t[0]===e?t[1]:void 0})),u(c.prototype,"has",(function(e){var t;return d(this,"has"),!!h(e)&&!(!(t=e[this._id])||t[0]!==e)})),u(c.prototype,"set",(function(e,t){var a;if(d(this,"set"),h(e))return(a=e[this._id])&&a[0]===e?a[1]=t:u(e,this._id,[e,t]),this;throw new TypeError("Invalid value used as weak map key")})),u(c,"_polyfill",!0),c)),f=o={exports:{}},(s=s)[p="Promise"]=s[p]||function(){var e,t,a,n,i,s,o=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,a,n){return Object.defineProperty(e,t,{value:a,writable:!0,configurable:!1!==n})}}catch(o){e=function(e,t,a){return e[t]=a,e}}function l(e,t){this.fn=e,this.self=t,this.next=void 0}function u(e,n){a.add(e,n),t=t||r(a.drain)}function c(e){var t,a=typeof e;return"function"==typeof(t=null==e||"object"!=a&&"function"!=a?t:e.then)&&t}function d(){for(var e,t,a=0;a<this.chain.length;a++){e=void 0,t=void 0;var n=this,i=1===this.state?this.chain[a].success:this.chain[a].failure,s=this.chain[a];try{!1===i?s.reject(n.msg):(e=!0===i?n.msg:i.call(void 0,n.msg))===s.promise?s.reject(TypeError("Promise-chain cycle")):(t=c(e))?t.call(e,s.resolve,s.reject):s.resolve(e)}catch(n){s.reject(n)}}this.chain.length=0}function y(e){var t,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(t=c(e))?u((function(){var n=new p(a);try{t.call(e,(function(){y.apply(n,arguments)}),(function(){h.apply(n,arguments)}))}catch(e){h.call(n,e)}})):(a.msg=e,a.state=1,0<a.chain.length&&u(d,a))}catch(e){h.call(new p(a),e)}}}function h(e){var t=this;t.triggered||(t.triggered=!0,(t=t.def?t.def:t).msg=e,t.state=2,0<t.chain.length&&u(d,t))}function f(e,t,a,n){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){a(i,e)}),n)}(i)}function p(e){this.def=e,this.triggered=!1}function g(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new g(this);this.then=function(e,a){var n={success:"function"!=typeof e||e,failure:"function"==typeof a&&a};return n.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t})),t.chain.push(n),0!==t.state&&u(d,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){y.call(t,e)}),(function(e){h.call(t,e)}))}catch(e){h.call(t,e)}}var v=e({},"constructor",m,!(a={add:function(e,t){s=new l(e,t),i?i.next=s:n=s,i=s},drain:function(){var e=n;for(n=i=t=void 0;e;)e.fn.call(e.self),e=e.next}}));return e(m.prototype=v,"__NPO__",0,!1),e(m,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,a){if("function"!=typeof t||"function"!=typeof a)throw TypeError("Not a function");t(e)}))})),e(m,"reject",(function(e){return new this((function(t,a){if("function"!=typeof t||"function"!=typeof a)throw TypeError("Not a function");a(e)}))})),e(m,"all",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(a,n){if("function"!=typeof a||"function"!=typeof n)throw TypeError("Not a function");var i=e.length,s=Array(i),o=0;f(t,e,(function(e,t){s[e]=t,++o===i&&a(s)}),n)}))})),e(m,"race",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):new t((function(a,n){if("function"!=typeof a||"function"!=typeof n)throw TypeError("Not a function");f(t,e,(function(e,t){a(t)}),n)}))})),m}(),f.exports&&(f.exports=s[p]);var f,p,g=o.exports,m=new WeakMap;function v(e,t,a){var n=m.get(e.element)||{};t in n||(n[t]=[]),n[t].push(a),m.set(e.element,n)}function w(e,t){return(m.get(e.element)||{})[t]||[]}function C(e,t,a){var n=m.get(e.element)||{};return!n[t]||(a?(-1!==(a=n[t].indexOf(a))&&n[t].splice(a,1),m.set(e.element,n),n[t]&&0===n[t].length):(n[t]=[],m.set(e.element,n),1))}function b(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function j(e,t,a){e.element.contentWindow&&e.element.contentWindow.postMessage&&(t={method:t},void 0!==a&&(t.value=a),8<=(a=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&a<10&&(t=JSON.stringify(t)),e.element.contentWindow.postMessage(t,e.origin))}var Q=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function k(e,t){return Q.reduce((function(t,a){var n=e.getAttribute("data-vimeo-".concat(a));return!n&&""!==n||(t[a]=""===n?1:n),t}),1<arguments.length&&void 0!==t?t:{})}function P(e,t){var a;e=e.html;if(t)return null===t.getAttribute("data-vimeo-initialized")&&((a=document.createElement("div")).innerHTML=e,t.appendChild(a.firstChild),t.setAttribute("data-vimeo-initialized","true")),t.querySelector("iframe");throw new TypeError("An element must be provided")}function x(e,t,n){var i=1<arguments.length&&void 0!==t?t:{},s=2<arguments.length?n:void 0;return new Promise((function(t,n){if(!a(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o,r="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(o in i)i.hasOwnProperty(o)&&(r+="&".concat(o,"=").concat(encodeURIComponent(i[o])));var l=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);l.open("GET",r,!0),l.onload=function(){if(404!==l.status)if(403!==l.status)try{var a=JSON.parse(l.responseText);403===a.domain_status_code?(P(a,s),n(new Error("“".concat(e,"” is not embeddable.")))):t(a)}catch(a){n(a)}else n(new Error("“".concat(e,"” is not embeddable.")));else n(new Error("“".concat(e,"” was not found.")))},l.onerror=function(){var e=l.status?" (".concat(l.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},l.send()}))}var E,T,N,I=new WeakMap,M=new WeakMap,A={},_=(function(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(V.prototype,[{key:"callMethod",value:function(e,t){var a=this,n=1<arguments.length&&void 0!==t?t:{};return new g((function(t,i){return a.ready().then((function(){v(a,e,{resolve:t,reject:i}),j(a,e,n)})).catch(i)}))}},{key:"get",value:function(e){var a=this;return new g((function(n,i){return e=t(e,"get"),a.ready().then((function(){v(a,e,{resolve:n,reject:i}),j(a,e)})).catch(i)}))}},{key:"set",value:function(e,a){var n=this;return new g((function(i,s){if(e=t(e,"set"),null==a)throw new TypeError("There must be a value to set.");return n.ready().then((function(){v(n,e,{resolve:i,reject:s}),j(n,e,a)})).catch(s)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===w(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),v(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");C(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=M.get(this)||new g((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return g.resolve(e)}},{key:"addCuePoint",value:function(e,t){return this.callMethod("addCuePoint",{time:e,data:1<arguments.length&&void 0!==t?t:{}})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(e)return this.callMethod("enableTextTrack",{language:e,kind:t});throw new TypeError("You must pass a language.")}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return A.isEnabled?A.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return A.isEnabled?A.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return A.isEnabled?g.resolve(A.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new g((function(t){var a;M.delete(e),I.delete(e.element),e._originalElement&&(I.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode&&(e.element.removeAttribute("data-vimeo-initialized"),a=e.element.querySelector("iframe"))&&a.parentNode&&(a.parentNode.parentNode&&e._originalElement&&e._originalElement!==a.parentNode?a.parentNode.parentNode.removeChild(a.parentNode):a.parentNode.removeChild(a)),e._window.removeEventListener("message",e._onMessage),A.isEnabled&&A.off("fullscreenchange",e.fullscreenchangeHandler),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}]),V);function V(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!((o=this)instanceof V))throw new TypeError("Cannot call a class as a function");if(window.jQuery&&e instanceof jQuery&&(1<e.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),o=e="undefined"!=typeof document&&"string"==typeof e?document.getElementById(e):e,!Boolean(o&&1===o.nodeType&&"nodeName"in o&&o.ownerDocument&&o.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===(e="IFRAME"!==e.nodeName&&(o=e.querySelector("iframe"))?o:e).nodeName&&!a(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(I.has(e))return I.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var s,o=new g((function(s,o){var r;t._onMessage=function(e){var n,i,r,l,u,c;a(e.origin)&&t.element.contentWindow===e.source&&("*"===t.origin&&(t.origin=e.origin),(e=b(e.data))&&"error"===e.event&&e.data&&"ready"===e.data.method?((c=new Error(e.data.message)).name=e.data.name,o(c)):(c=e&&"ready"===e.event,l=e&&"ping"===e.method,c||l?(t.element.setAttribute("data-ready","true"),s()):(n=t,c=[],(i=b(i=e)).event?("error"===i.event&&w(n,i.data.method).forEach((function(e){var t=new Error(i.data.message);t.name=i.data.name,e.reject(t),C(n,i.data.method,e)})),c=w(n,"event:".concat(i.event)),r=i.data):i.method&&(e=!((u=w(l=n,e=i.method)).length<1)&&(C(l,e,l=u.shift()),l))&&(c.push(e),r=i.value),c.forEach((function(e){try{"function"==typeof e?e.call(n,r):e.resolve(r)}catch(e){}})))))},t._window.addEventListener("message",t._onMessage),"IFRAME"!==t.element.nodeName&&x(i(r=k(e,n)),r,e).then((function(a){var n,i,s=P(a,e);return t.element=s,n=t._originalElement=e,s=s,i=m.get(n),m.set(s,i),m.delete(n),I.set(t.element,t),a})).catch(o)}));return M.set(this,o),I.set(this.element,this),"IFRAME"===this.element.nodeName&&j(this,"ping"),A.isEnabled&&(s=function(){return A.exit()},this.fullscreenchangeHandler=function(){(A.isFullscreen?v:C)(t,"event:exitFullscreen",s),t.ready().then((function(){j(t,"fullscreenchange",A.isFullscreen)}))},A.on("fullscreenchange",this.fullscreenchangeHandler)),this}return e||(E=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=0,n=t.length,i={};a<n;a++)if((e=t[a])&&e[1]in document){for(a=0;a<e.length;a++)i[t[0][a]]=e[a];return i}return!1}(),T={fullscreenchange:E.fullscreenchange,fullscreenerror:E.fullscreenerror},N={request:function(e){return new Promise((function(t,a){function n(){N.off("fullscreenchange",n),t()}N.on("fullscreenchange",n);var i=(e=e||document.documentElement)[E.requestFullscreen]();i instanceof Promise&&i.then(n).catch(a)}))},exit:function(){return new Promise((function(e,t){var a,n;N.isFullscreen?(N.on("fullscreenchange",a=function t(){N.off("fullscreenchange",t),e()}),(n=document[E.exitFullscreen]())instanceof Promise&&n.then(a).catch(t)):e()}))},on:function(e,t){(e=T[e])&&document.addEventListener(e,t)},off:function(e,t){(e=T[e])&&document.removeEventListener(e,t)}},Object.defineProperties(N,{isFullscreen:{get:function(){return Boolean(document[E.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[E.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[E.fullscreenEnabled])}}}),A=N,function(){function e(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))}var t=document;[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach((function(t){try{var a;null===t.getAttribute("data-vimeo-defer")&&x(i(a=k(t)),a,t).then((function(e){return P(e,t)})).catch(e)}catch(a){e(a)}}))}(),function(){var e=document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",(function(t){if(a(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){n[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}})))}(),function(){var e=document;window.VimeoSeoMetadataAppended||(window.VimeoSeoMetadataAppended=!0,window.addEventListener("message",(function(t){if(a(t.origin)){var i=b(t.data);if(i&&"ready"===i.event)for(var s=e.querySelectorAll("iframe"),o=0;o<s.length;o++){var r=s[o],l=r.contentWindow===t.source;n(r.src)&&l&&new _(r).callMethod("appendVideoMetadata",window.location.href)}}})))}(),function(){var e,t=document;window.VimeoCheckedUrlTimeParam||(window.VimeoCheckedUrlTimeParam=!0,e=function(e){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(e))},window.addEventListener("message",(function(i){if(a(i.origin)){var s=b(i.data);if(s&&"ready"===s.event)for(var o=t.querySelectorAll("iframe"),r=0;r<o.length;r++){var l=o[r],u=l.contentWindow===i.source;n(l.src)&&u&&function(){var t=new _(l);t.getVideoId().then((function(e){(e=new RegExp("[?&]vimeo_t_".concat(e,"=([^&#]*)")).exec(window.location.href))&&e[1]&&(e=decodeURI(e[1]),t.setCurrentTime(e))})).catch(e)}()}}})))}()),_}));var layCarousel=function(){function e(){"on"==layCarouselPassedData.showCaptions&&"on"!=layCarouselPassedData.showCircles?jQuery(".lay-carousel-wrap").each((function(){var e=jQuery(this).find(".lay-carousel"),t=jQuery(this).find(".lay-carousel-sink"),a=this.offsetWidth,n=jQuery(this).find(".single-caption").length;jQuery(this).find(".captions-slider").css("width",n*a+"px"),jQuery(this).find(".single-caption").css("width",a+"px"),e.hasClass("transition-fading")||e.hasClass("transition-immediate")?void 0!==(n=jQuery(this).data("layslider"))&&s(t,n.ix):void 0!==(a=jQuery(this).data("myswiper"))&&(e=a.realIndex,s(t,e)),jQuery(this).find(".lay-carousel-sink").addClass("show-sink")})):jQuery(".lay-carousel-sink").addClass("show-sink")}var t=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),a=(null==t&&(t=!1),/iPad|iPhone|iPod/.test(navigator.platform)),n=!1,i={showCircles:!1,showCaptions:!1,showNumbers:!1,numbersPosition:"",captionsPosition:"",showArrowButtons:!1,lazyload:!1,alignSink:!1,showArrowButtonsForTouchDevices:!1,pauseAutoPlayOnHover:!1},s=function(e,t){var a,n;0!=e.length&&(n=0<(n=(a=e.find(".captions-inner")).find(".single-caption").first()).length?n[0].getBoundingClientRect().width:0,a.css({transform:"translateX("+-n*t+"px)","-webkit-transform":"translateX("+-n*t+"px)"}),e.find(".caption-active").removeClass("caption-active"),e.find(".single-caption").eq(t).addClass("caption-active"))},o=window.innerWidth,r=function(){o!=window.innerWidth&&(layCarousel.sizeCaptions(),layCarousel.repositionSliders()),o=window.innerWidth},l=function(){jQuery(".lay-carousel.transition-sliding").each((function(){jQuery(this.parentNode).data("myswiper").update()}))};return{initModule:function(){var t,a;"on"==layCarouselPassedData.youtube&&((t=document.createElement("script")).src="https://www.youtube.com/iframe_api",(a=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,a)),lay_set_w100h100_classes(),setTimeout((function(){var t;switch(lay_carousel_set_element_widths(),n=!1,layCarousel.isTouchDevice&&("iOS"==(t=new MobileDetect(window.navigator.userAgent)).os()&&"Safari"==t.userAgent()&&10<=t.version("Safari")||"AndroidOS"==t.os()&&"Chrome"==t.userAgent()&&t.version("Chrome"),n=!0),""==layCarouselPassedData.rightButton&&i.showArrowButtons&&jQuery(".lay-carousel-wrap .lay-carousel.enable-click-and-drag").addClass("default-arrowbuttons"),""==layCarouselPassedData.rightButton&&i.showArrowButtonsForTouchDevices&&layCarousel.isTouchDevice&&jQuery(".lay-carousel-wrap .lay-carousel.enable-click-and-drag").addClass("default-arrowbuttons"),setTimeout((function(){layCarousel.swiper.initModule(),layCarousel.fadeCarousel.initModule(),setTimeout((function(){l(),jQuery(".lay-carousel video").each((function(){this.addEventListener("loadedmetadata",(function(e){l()}))})),e(),lay_carousel_setsizes()}),0)}),0),layCarouselPassedData.mousecursor){case"right":jQuery(".lay-carousel.enable-click-and-drag").addClass("cursor-right");break;case"leftright":jQuery(".lay-carousel.enable-click-and-drag").on("mousemove",(function(e){var t=this.getBoundingClientRect();e.clientX<t.width/2+t.left?jQuery(this).addClass("cursor-left").removeClass("cursor-right"):jQuery(this).addClass("cursor-right").removeClass("cursor-left")}));break;case"none":jQuery(".lay-carousel.enable-click-and-drag").addClass("no-cursor");break;case"pointer":jQuery(".lay-carousel.enable-click-and-drag").addClass("pointer")}jQuery(window).off("resize",r),jQuery(window).on("resize",r)}),0)},configMap:i,showCaption:s,sizeCaptions:e,isTouchDevice:t,isIOS:a,repositionSliders:l,setConfigMap:function(){"on"==layCarouselPassedData.alignSink&&(i.alignSink=!0),"on"==layCarouselPassedData.lazyload&&(i.lazyload=!0),"on"==layCarouselPassedData.showCaptions&&(i.showCaptions=!0),i.showCaptions&&(i.captionsPosition="captions-"+layCarouselPassedData.captionsPosition),"on"==layCarouselPassedData.showNumbers&&(i.showNumbers=!0),i.showNumbers&&(i.numbersPosition="numbers-"+layCarouselPassedData.numbersPosition),"on"==layCarouselPassedData.showCircles&&(i.showCircles=!0,i.showCaptions=!1,i.showNumbers=!1),"on"==layCarouselPassedData.showArrowButtons&&(i.showArrowButtons=!0),"on"==layCarouselPassedData.showArrowButtonsForTouchDevices&&(i.showArrowButtonsForTouchDevices=!0),"on"==layCarouselPassedData.pauseAutoplayOnHover&&(i.pauseAutoPlayOnHover=!0)},alignSink:function(e,t){var a,n,i,s,o,r;0!=e.find(".lay-carousel-slide.is-selected").length&&1==layCarousel.configMap.alignSink&&e.hasClass("no-fixed-slides-width")&&e.hasClass("dont-fill-slides")&&e.hasClass("dont-show-multiple-slides")&&(a=e.find(".numbers"),n=e.find(".lay-carousel-sink"),o=e.find(".lay-carousel-slide.is-selected .slide-inner>*").first()[0].getBoundingClientRect(),i=e.find(".lay-carousel-slide.is-selected")[0].getBoundingClientRect(),s=o.left-i.left,o=i.right-o.right,e.find(".is-selected").hasClass("lay-carousel-slide-html5video")?e.find(".is-selected .video-slide").hasClass("h100")&&(r=i.height/e.find(".is-selected .video-slide").attr("data-ar"),s=(i.width-r)/2,o=(i.width-r)/2):(e.find(".is-selected").hasClass("lay-carousel-slide-img")||e.find(".is-selected").hasClass("lay-carousel-slide-postThumbnail"))&&e.find(".is-selected img").hasClass("h100")&&(r=i.height/e.find(".is-selected img").attr("data-ar"),s=(i.width-r)/2,o=(i.width-r)/2),1==layCarousel.configMap.showNumbers&&(n.hasClass("sink-only-numbers")?"numbers-right"==layCarousel.configMap.numbersPosition?a.css("right",o):"numbers-left"==layCarousel.configMap.numbersPosition&&a.css("left",s):"numbers-right"==layCarousel.configMap.numbersPosition?a.css("margin-right",o):"numbers-left"==layCarousel.configMap.numbersPosition&&a.css("margin-left",s)),1==layCarousel.configMap.showCaptions)&&("captions-right"==layCarousel.configMap.captionsPosition?n.find(".single-caption.ix-"+t+" .single-caption-inner").css("padding-right",o):"captions-left"==layCarousel.configMap.captionsPosition&&n.find(".single-caption.ix-"+t+" .single-caption-inner").css("padding-left",s))},isElVisibleInsideCarousel:function(e,t,a){e=e.getBoundingClientRect(),t=t.getBoundingClientRect();var n=!1,i=e.left-a;e=e.right+a;return i<=(a=(t.left>=i&&t.left<=e&&(n=!0),t.right>=i&&t.right<=e&&(n=!0),t.left+t.width/2))&&a<=e||n},loadNotLazyloadingImagesIn:function(e){1!=i.lazyload&&(e.find("img.carousel-responsive-img").each((function(){var e=jQuery(this).attr("data-lay-srcset"),t=(e=(jQuery(this).attr("srcset",e),jQuery(this).attr("data-lay-src")),jQuery(this).attr("src",e),this);t.complete?t.classList.add("loaded"):t.onload=function(){t.classList.add("loaded")}})),e.find("img.carousel-original-img").each((function(){var e=jQuery(this).attr("data-lay-src"),t=(jQuery(this).attr("src",e),this);t.complete?t.classList.add("loaded"):t.onload=function(){t.classList.add("loaded")}})))},lazyLoadCarouselImage:function(e){var t,a;1==i.lazyload&&(e.complete?e.classList.add("loaded"):e.onload=function(){e.classList.add("loaded")},jQuery(e).hasClass("carousel-original-img")?(a=jQuery(e).attr("data-lay-src"),jQuery(e).attr("src",a)):jQuery(e).hasClass("carousel-responsive-img")&&(t=jQuery(e).attr("data-lay-srcset"),a=jQuery(e).attr("data-lay-src"),jQuery(e).attr({src:a,srcset:t})))},isCarouselVisibleInViewport:function(e,t){return(e=e.getBoundingClientRect()).top-(t=void 0===t?400:t)<=window.innerHeight&&0<=e.bottom},playVideo:function(e){(n&&layCarousel.isTouchDevice||!layCarousel.isTouchDevice)&&0!=e.length&&e[0].paused&&(e[0].currentTime=0,e[0].play(),e.on("canplay",(function(){this.currentTime=0,this.play(),e.off("canplay")})))},lazyLoadVideo:function(e){var t;1==e.paused&&e.hasAttribute("preload")&&"none"==jQuery(e).attr("preload")&&(console.log("hi!!"),e.addEventListener("loadeddata",(function(){jQuery(this).addClass("loaded")})),e.addEventListener("canplay",(function(){jQuery(this).addClass("loaded")})),e.addEventListener("play",(function(){jQuery(this).addClass("loaded")})),jQuery(e).removeAttr("preload"),t=(e=jQuery(e).find("source")).attr("data-src"))&&(e.attr("src",t),e.removeAttr("data-src"))}}}(),eventsChannel=(window.laytheme.on("newpageshown",(function(){layCarousel.initModule()})),window.laytheme.on("tabhidden",(function(){layCarousel.swiper.pauseAllAutoplays(),layCarousel.fadeCarousel.pauseAllAutoplays()})),window.laytheme.on("tabshown",(function(){layCarousel.swiper.resumeAllAutoplays(),layCarousel.fadeCarousel.resumeAllAutoplays()})),window.laytheme.on("sizechanged",(function(){layCarousel.swiper.lazyLoadAndPausePlayVideosOnScroll(),layCarousel.fadeCarousel.lazyLoadAndPausePlayVideosOnScroll()})),Backbone.Radio.channel("events"));function onYouTubeIframeAPIReady(){window.youtubeApiReady=!0}eventsChannel.on("scroll",(function(){layCarousel.swiper.lazyLoadAndPausePlayVideosOnScroll(),layCarousel.fadeCarousel.lazyLoadAndPausePlayVideosOnScroll()})),jQuery(window).on("fpAfterLoad fpAfterSlideLoad",(function(){layCarousel.swiper.lazyLoadAndPausePlayVideosOnScroll(),layCarousel.fadeCarousel.lazyLoadAndPausePlayVideosOnScroll()})),eventsChannel.on("scroll",(function(){layCarousel.swiper.lazyLoadAndPausePlayVideosOnScroll(),layCarousel.fadeCarousel.lazyLoadAndPausePlayVideosOnScroll()})),layCarousel.setConfigMap(),layCarousel.fadeCarousel=function(){function e(e){var t,a;jQuery(e).is(":visible")&&layCarousel.isCarouselVisibleInViewport(e)&&(t=jQuery(e).find(".lay-carousel-slide:first-child img"),a=jQuery(e).find(".lay-carousel-slide").eq(1).find("img"),0<t.length&&!t.hasClass("loaded")&&layCarousel.lazyLoadCarouselImage(t[0]),0<a.length&&!a.hasClass("loaded")&&0<t.length?t[0].complete?layCarousel.lazyLoadCarouselImage(a[0]):t[0].addEventListener("load",(function(){layCarousel.lazyLoadCarouselImage(a[0])})):0<a.length&&!a.hasClass("loaded")&&layCarousel.lazyLoadCarouselImage(a[0]))}var t={sliders:[]},a=function(e,t,a,n,i){this.autoplay=e,this.$wrap=t,this.$carousel=t.find(".lay-carousel"),this.length=a,this.ix=n,this.loop=i,this.$sink=t.find(".lay-carousel-sink"),this.$circlesContainer=t.find(".laycarousel-bullets"),this.$numbers=t.find(".numbers")},n=_.throttle((function(e){var t=!0;if(t=!(0<jQuery("#lightbox-region").length&&!jQuery("#lightbox-region").hasClass("lay-hide"))&&t)switch(e.keyCode){case 37:for(var a=s(),n=0;n<a.length;n++){var i=a[n];r(i)}break;case 39:for(a=s(),n=0;n<a.length;n++)i=a[n],o(i)}}),400),s=function(){var e=[];return jQuery(".lay-carousel.transition-fading:visible").each((function(){var t;layCarousel.isCarouselVisibleInViewport(this,0)&&(t=jQuery(this.parentNode).data("layslider"),e.push(t))})),e},o=function(e){var t=!0;e.ix++,e.ix>e.length-1&&(e.loop?e.ix=0:(e.ix=e.length-1,t=!1)),l(e),t&&(d(e),1==layCarousel.configMap.lazyload)&&u(e)},r=function(e){var t=!0;e.ix--,e.ix<0&&(e.loop?e.ix=e.length-1:(e.ix=0,t=!1)),l(e),t&&(d(e),1==layCarousel.configMap.lazyload)&&c(e)},l=function(e){0==e.loop&&(0==e.ix?e.$wrap.removeClass("hide-next-related-ui").addClass("hide-previous-related-ui"):e.ix==e.length-1?e.$wrap.removeClass("hide-previous-related-ui").addClass("hide-next-related-ui"):e.$wrap.removeClass("hide-previous-related-ui hide-next-related-ui"))},u=function(e){var t;e.$carousel.is(":visible")&&((t=e.ix+1)>e.length-1&&(t=0),0<(e=e.$wrap.find(".lay-carousel-slide").eq(t).find("img")).length)&&!e.hasClass("loaded")&&layCarousel.lazyLoadCarouselImage(e[0])},c=function(e){var t;e.$carousel.is(":visible")&&((t=e.ix-1)<0&&(t=e.length-1),0<(e=e.$wrap.find(".lay-carousel-slide").eq(t).find("img")).length)&&!e.hasClass("loaded")&&layCarousel.lazyLoadCarouselImage(e[0])},d=function(e){e.$wrap.find(".is-selected").removeClass("is-selected");var t=e.$wrap.find(".lay-carousel"),a=e.$wrap.find(".lay-carousel-slide").eq(e.ix);e.$wrap.find(".lay-carousel").hasClass("transition-fading")&&a.addClass("transition"),t.hasClass("transition-immediate")?m(e.$wrap):t.hasClass("transition-fading")&&a.on("transitionend",(function(){m(e.$wrap),jQuery(this).off("transitionend")})),a.addClass("is-selected"),a.hasClass("lay-use-alt-buttons")&&""!=layCarouselPassedData.alt_rightButton?e.$wrap.addClass("alt-buttons"):e.$wrap.removeClass("alt-buttons"),layCarousel.configMap.showCircles&&(e.$circlesContainer.find(".swiper-pagination-bullet").removeClass("swiper-pagination-bullet-active"),e.$circlesContainer.find(".swiper-pagination-bullet").eq(e.ix).addClass("swiper-pagination-bullet-active")),layCarousel.configMap.showCaptions&&layCarousel.showCaption(e.$sink,e.ix),layCarousel.configMap.showNumbers&&e.$numbers.text(e.ix+1+"/"+e.length),g(e.$wrap),layCarousel.alignSink(e.$wrap,e.ix),e.$wrap.trigger("laycarousel.select",[{slider:e}]),e.$carousel.trigger("laycarousel.select",[{slider:e}]),t=a.find("img");layCarousel.configMap.lazyload&&e.$carousel.is(":visible")&&layCarousel.isCarouselVisibleInViewport(e.$carousel[0])&&0<t.length&&!t.hasClass("loaded")&&layCarousel.lazyLoadCarouselImage(t[0])},y=function(e){"true"!=e.autoplay&&1!=e.autoplay||(h(e),clearTimeout(e.pauseTimeout),e.pauseTimeout=setTimeout((function(){f(e)}),2e3))},h=function(e){_.has(e,"interval")&&clearInterval(e.interval)},f=function(e){1!=e.autoplay&&"true"!=e.autoplay||(clearInterval(e.interval),e.interval=setInterval((function(){o(e)}),layCarouselPassedData.autoplaySpeed))},p=_.throttle((function(){jQuery(".no-swiper.lay-carousel-wrap").each((function(){layCarousel.configMap.lazyload&&e(this),g(jQuery(this))}))}),100),g=function(e){var t;void 0!==e&&(layCarousel.isCarouselVisibleInViewport(e[0])&&e.is(":visible")||e.find(".lay-carousel-slide video").each((function(){this.paused||this.pause()})),e.find(".lay-carousel-slide:not(.is-selected) video").each((function(){this.paused||this.pause()})),1==(t=e.find(".lay-carousel-slide.is-selected video")).length)&&e.is(":visible")&&layCarousel.isCarouselVisibleInViewport(e[0])&&layCarousel.playVideo(t)},m=function(e){void 0!==e&&e.is(":visible")&&(e.find(".lay-carousel-slide:not(.is-selected)").find(".youtube-vimeo-video-slide iframe[src^='//player.vimeo.com/']").each((function(){"undefined"!=typeof Vimeo&&new Vimeo.Player(this).pause()})),e.find(".lay-carousel-slide:not(.is-selected)").find(".youtube-vimeo-video-slide iframe[src^='//www.youtube.com']").each((function(){var e=jQuery(this).data("ytplayer");void 0===e&&window.youtubeApiReady?(e=new YT.Player(this,{events:{onReady:function(e){e.target.stopVideo()}}}),jQuery(this).data("ytplayer",e)):void 0!==e&&"function"==typeof e.stopVideo&&e.stopVideo()})))};return{initModule:function(){for(i=0;i<t.sliders.length;i++){var e=t.sliders[i];_.has(e,"interval")&&clearInterval(e.interval),_.has(e,"delayTimeout")&&clearTimeout(e.delayTimeout)}t.sliders=[],jQuery(".lay-carousel.transition-fading, .lay-carousel.transition-immediate").each((function(){var e=jQuery(this.parentNode),n=(e.addClass("fadeSlider"),jQuery(this).find(".lay-carousel-slide").length),i=jQuery(this).hasClass("autoplay"),s=jQuery(this.parentNode).hasClass("loop-slides"),o=new a(i,jQuery(this.parentNode),n,0,s);e.data("layslider",o),t.sliders.push(o),i=layCarousel.configMap.showArrowButtons||layCarousel.configMap.showArrowButtonsForTouchDevices&&layCarousel.isTouchDevice,n="";(i=!jQuery(this).hasClass("disable-click-and-drag")&&i)&&(s='<svg viewBox="0 0 100 100"><path d="M 20,50 L 75,100 L 80,95 L 30,50  L 80,5 L 75,0 Z" class="arrow"></path></svg>',e='<svg viewBox="0 0 100 100"><path d="M 20,50 L 75,100 L 80,95 L 30,50  L 80,5 L 75,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path></svg>',""!=layCarouselPassedData.rightButton&&(n="is-carousel-custom-button",e='<img class="laycarousel-custom-button next" src="'+layCarouselPassedData.rightButton+'" alt="">',s='<img class="laycarousel-custom-button prev" src="'+layCarouselPassedData.rightButton+'" alt="">'),""!=layCarouselPassedData.alt_rightButton&&(n="is-carousel-custom-button",i='<img class="laycarousel-custom-button next alt" src="'+layCarouselPassedData.alt_rightButton+'" alt="">',s+='<img class="laycarousel-custom-button prev alt" src="'+layCarouselPassedData.alt_rightButton+'" alt="">',e+=i),jQuery(this).append('<button class="flickity-prev-next-button previous '+n+'" type="button">'+s+"</button>"),jQuery(this).append('<button class="flickity-prev-next-button next '+n+'" type="button">'+e+"</button>")),setTimeout((function(){d(o)}),0),jQuery(this.parentNode).addClass("initialized")})),function(){for(var e=0;e<t.sliders.length;e++)!function(){var a=t.sliders[e],n=parseInt(a.$carousel.attr("data-autoplaydelay"),0),i=parseInt(a.$carousel.attr("data-autoplayspeed"),0);i<=n&&(n-=i),1==a.autoplay&&(clearInterval(a.interval),clearTimeout(a.delayTimeout),a.delayTimeout=setTimeout((function(){a.interval=setInterval((function(){o(a)}),i)}),n,a,i))}()}(),layCarousel.configMap.showCircles&&jQuery(".lay-carousel-wrap.no-swiper.show-circles .lay-carousel.enable-click-and-drag .swiper-pagination-bullet").on("click",(function(e){e.stopPropagation();e=jQuery(this).closest(".lay-carousel-wrap").data("layslider");var t=jQuery(this).index();e.ix=t,d(e),y(e)})),jQuery(".lay-carousel-wrap.no-swiper .lay-carousel.enable-click-and-drag .flickity-prev-next-button").on("click",(function(e){e.stopPropagation();var t=jQuery(this).closest(".lay-carousel-wrap").data("layslider");y(t),jQuery(e.target.parentNode).is("a")||jQuery(e.target).is("a")||(jQuery(this).hasClass("previous")?r:o)(t)})),"on"==layCarouselPassedData.pauseAutoplayOnHover&&jQuery(".lay-carousel.transition-fading.enable-click-and-drag, .lay-carousel.transition-immediate.enable-click-and-drag").on("mouseenter",(function(e){layCarousel.isTouchDevice||h(jQuery(this.parentNode).data("layslider"))})).on("mouseleave",(function(){var e;layCarousel.isTouchDevice||(e=jQuery(this.parentNode).data("layslider"),f(e))})),jQuery(".lay-carousel.transition-fading.enable-click-and-drag, .lay-carousel.transition-immediate.enable-click-and-drag").on("click",(function(e){var t=jQuery(this.parentNode).data("layslider");y(t),jQuery(e.target).hasClass("laycarousel-custom-button")||jQuery(e.target).hasClass("html5video-customplayicon")||jQuery(e.target.parentNode).hasClass("flickity-prev-next-button")||jQuery(e.target).hasClass("flickity-prev-next-button")||jQuery(e.target).hasClass("lay-mute-unmute-button")||jQuery(e.target.parentNode).is("a")||jQuery(e.target).is("a")||(jQuery(this).hasClass("cursor-left")?r:o)(t)})),document.removeEventListener("keydown",n),document.addEventListener("keydown",n)},loadFirstLazyImage:function(t){layCarousel.configMap.lazyload&&t.find(".no-swiper.lay-carousel-wrap").each((function(){e(this)}))},resumeAllAutoplays:function(){jQuery(".lay-carousel.autoplay.no-swiper").each((function(){var e=jQuery(this.parentNode).data("layslider");"true"!=e.autoplay&&1!=e.autoplay||f(e)}))},pauseAllAutoplays:function(){jQuery(".lay-carousel.autoplay.no-swiper").each((function(){var e=jQuery(this.parentNode).data("layslider");"true"!=e.autoplay&&1!=e.autoplay||h(e)}))},lazyLoadAndPausePlayVideosOnScroll:p}}(),layCarousel.swiper=function(){function e(){var e=[];return jQuery(".lay-carousel.transition-sliding:visible").each((function(){var t;layCarousel.isCarouselVisibleInViewport(this,0)&&(t=jQuery(this.parentNode).data("myswiper"),e.push(t))})),e}function t(e){layCarousel.configMap.lazyload&&e.find(".carousel-lazy-img:not(.loaded)").each((function(){1==layCarousel.isElVisibleInsideCarousel(e[0],this,10)&&layCarousel.isCarouselVisibleInViewport(e[0])&&layCarousel.lazyLoadCarouselImage(this)}))}var a,n=function(t){var a=!0;if(a=!(0<jQuery("#lightbox-region").length&&!jQuery("#lightbox-region").hasClass("lay-hide"))&&a)switch(t.which){case 37:for(var n=e(),i=0;i<n.length;i++)n[i].slidePrev();break;case 39:for(n=e(),i=0;i<n.length;i++)n[i].slideNext()}},i=function(e){var t;e.hasClass("captions-under-slides")&&(t=(e[0].getBoundingClientRect().height-e.find(".slide-inner").first()[0].getBoundingClientRect().height)/2,e.find(".flickity-prev-next-button").css("margin-top",-t+"px"))},s=function(e){var t;jQuery(e.el.parentNode.parentNode).hasClass("pause-autoplay-on-hover")&&jQuery(e.el.parentNode).hasClass("autoplay")&&jQuery(e.el.parentNode).hasClass("enable-click-and-drag")&&(t=e,jQuery(t.el.parentNode.parentNode).on("mouseenter",(function(){t.autoplay.stop()})).on("mouseleave",(function(){t.autoplay.start()})))},o=function(e){0==e.params.loop&&jQuery(e.el.parentNode.parentNode).removeClass("hide-previous-related-ui").addClass("hide-next-related-ui")},r=function(e){0==e.params.loop&&jQuery(e.el.parentNode.parentNode).removeClass("hide-next-related-ui").addClass("hide-previous-related-ui")},l=_.throttle((function(e){u(e)}),200),u=function(e){0!=e.params.loop||e.isBeginning||e.isEnd||jQuery(e.el.parentNode.parentNode).removeClass("hide-previous-related-ui hide-next-related-ui")},c=function(e){var t;jQuery(e.el).is(":visible")&&layCarousel.isCarouselVisibleInViewport(e.el)&&((t=e.realIndex+1)>e.slidesLength-1&&(t=0),0<(e=jQuery(e.el).find('.lay-carousel-slide[data-swiper-slide-index="'+t+'"] img')).length)&&e.each((function(){jQuery(this).hasClass("loaded")||layCarousel.lazyLoadCarouselImage(jQuery(this)[0])}))},d=function(e){var t;jQuery(e.el).is(":visible")&&layCarousel.isCarouselVisibleInViewport(e.el)&&((t=e.realIndex-1)<0&&(t=e.slidesLength-1),0<(e=jQuery(e.el).find('.lay-carousel-slide[data-swiper-slide-index="'+t+'"] img')).length)&&e.each((function(){jQuery(this).hasClass("loaded")||layCarousel.lazyLoadCarouselImage(jQuery(this)[0])}))},y=function(e,a){var n=jQuery(e.el);setTimeout((function(){f(n),layCarousel.configMap.lazyload&&t(n),layCarousel.loadNotLazyloadingImagesIn(n)}),a)},h=function(e){var t=e.realIndex,a=jQuery(e.el);t+1>e.slidesLength&&(t=0),jQuery(e.el).find(".lay-carousel-slide").eq(e.activeIndex).hasClass("lay-use-alt-buttons")&&""!=layCarouselPassedData.alt_rightButton?jQuery(e.el.parentNode.parentNode).addClass("alt-buttons"):jQuery(e.el.parentNode.parentNode).removeClass("alt-buttons"),(layCarousel.configMap.showCaptions||layCarousel.configMap.showNumbers)&&(n=jQuery(e.el.parentNode.parentNode).find(".lay-carousel-sink")),layCarousel.configMap.showCaptions&&layCarousel.showCaption(n,t),layCarousel.configMap.showNumbers&&n.find(".numbers").text(t+1+"/"+e.slidesLength);var n,i=jQuery(a[0].parentNode.parentNode);setTimeout((function(){layCarousel.alignSink(i,t)}),0)},f=function(e){e.is(":visible")&&e.find(".lay-carousel-slide video").each((function(){layCarousel.isElVisibleInsideCarousel(e[0],this,0)&&layCarousel.isCarouselVisibleInViewport(e[0])?layCarousel.playVideo(jQuery(this)):this.pause(),layCarousel.isElVisibleInsideCarousel(e[0],this,100)&&layCarousel.isCarouselVisibleInViewport(e[0])&&layCarousel.lazyLoadVideo(this)}))},p=function(e){e.is(":visible")&&(e.find(".youtube-vimeo-video-slide iframe[src^='//player.vimeo.com/']").each((function(){layCarousel.isElVisibleInsideCarousel(e[0],this,0)&&layCarousel.isCarouselVisibleInViewport(e[0])||"undefined"!=typeof Vimeo&&new Vimeo.Player(this).pause()})),e.find(".youtube-vimeo-video-slide iframe[src^='//www.youtube.com']").each((function(){var t;layCarousel.isElVisibleInsideCarousel(e[0],this,0)&&layCarousel.isCarouselVisibleInViewport(e[0])||void 0!==window.youtubeApiReady&&1==window.youtubeApiReady&&(void 0===(t=jQuery(this).data("ytplayer"))&&window.youtubeApiReady?(t=new YT.Player(this,{events:{onReady:function(e){e.target.stopVideo()}}}),jQuery(this).data("ytplayer",t)):void 0!==t&&"function"==typeof t.stopVideo&&t.stopVideo())})))},g=_.throttle((function(){jQuery(".lay-carousel.transition-sliding").each((function(){var e=jQuery(this);setTimeout((function(){f(e),layCarousel.configMap.lazyload&&t(e)}))}))}),100),m=function(){1!=layCarouselPassedData.lessSizing&&(jQuery(".no-fixed-slides-width .lay-carousel-slide").each((function(){var e=parseInt(this.getBoundingClientRect().width,10);jQuery(this).css("width",e+"px")})),jQuery(".swiper-container:not(.lay-woocommerce-gallery)").each((function(){var e;jQuery(this).is(":visible")&&(e=parseInt(this.getBoundingClientRect().width,10),jQuery(this).css("width",e+"px"))}))),jQuery(".lay-carousel-sink-parent").each((function(){var e;jQuery(this).is(":visible")&&(e=parseInt(this.getBoundingClientRect().width,10),jQuery(this).find(".captions-wrap").css("width",e+"px"))}))};return{initModule:function(){jQuery(".lay-carousel.transition-sliding:not(.initialized)").each((function(){var e,t,a,n,g,m,v,w,C,b,j,Q,k,P,x,E,T;e=this,t={nextEl:null,prevEl:null},a=jQuery(e).hasClass("disable-click-and-drag"),n=!("grab"!=layCarouselPassedData.mousecursor&&!layCarousel.isTouchDevice&&!jQuery(e).hasClass("free-scroll")),a&&(n=!1),g=jQuery(e).find(".lay-carousel-slide:not(.swiper-slide-duplicate)").length,(layCarousel.configMap.showCaptions||layCarousel.configMap.showNumbers)&&(m=jQuery(e.parentNode).find(".lay-carousel-sink")),layCarousel.configMap.showNumbers&&m.find(".numbers").text("1/"+g),(layCarousel.configMap.showArrowButtons||layCarousel.configMap.showArrowButtonsForTouchDevices&&layCarousel.isTouchDevice)&&(w=!0),m="",(w=!a&&w)&&(w='<svg viewBox="0 0 100 100"><path d="M 20,50 L 75,100 L 80,95 L 30,50  L 80,5 L 75,0 Z" class="arrow"></path></svg>',b='<svg viewBox="0 0 100 100"><path d="M 20,50 L 75,100 L 80,95 L 30,50  L 80,5 L 75,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path></svg>',""!=layCarouselPassedData.rightButton&&(m="is-carousel-custom-button",b='<img class="laycarousel-custom-button next" src="'+layCarouselPassedData.rightButton+'" alt="">',w='<img class="laycarousel-custom-button prev" src="'+layCarouselPassedData.rightButton+'" alt="">'),""!=layCarouselPassedData.alt_rightButton&&(m="is-carousel-custom-button",v='<img class="laycarousel-custom-button next alt" src="'+layCarouselPassedData.alt_rightButton+'" alt="">',w+='<img class="laycarousel-custom-button prev alt" src="'+layCarouselPassedData.alt_rightButton+'" alt="">',b+=v),jQuery(e).append('<button class="flickity-prev-next-button previous '+m+'" type="button">'+w+"</button>"),jQuery(e).append('<button class="flickity-prev-next-button next '+m+'" type="button">'+b+"</button>")),jQuery(e).hasClass("enable-click-and-drag")&&(t={nextEl:jQuery(e).find(".flickity-prev-next-button.next")[0],prevEl:jQuery(e).find(".flickity-prev-next-button.previous")[0]}),layCarousel.configMap.showCircles&&0==a&&jQuery(e.parentNode).append('<div class="laycarousel-bullets"></div>'),v=parseInt(jQuery(e).attr("data-autoplayspeed"),0),w=parseInt(jQuery(e).attr("data-autoplaydelay"),0),0!=(C=!!jQuery(e).hasClass("autoplay")&&v)&&(C={delay:v,disableOnInteraction:!1}),1==(m=jQuery(e).hasClass("free-scroll"))&&0==a&&(draggable=!0),b=jQuery(e.parentNode).hasClass("loop-slides"),a="on"==layCarouselPassedData.showCircles&&0==a,j=jQuery(e.parentNode).find(".laycarousel-bullets")[0],Q=1==a&&{el:j,type:"bullets",clickable:!0},a=jQuery(e).hasClass("centered-slides"),j="auto",jQuery(e.parentNode).hasClass("dont-show-multiple-slides")&&jQuery(e.parentNode).hasClass("no-fixed-slides-width")&&(j=1),k=parseInt(jQuery(e).attr("data-transitionspeed"),10),P=0,jQuery(e).attr("data-spacebetween")&&(P=parseInt(jQuery(e).attr("data-spacebetween"),10)),1==(x=jQuery(e).hasClass("mousewheel-scroll"))&&(x={releaseOnEdges:!0},m=!0),E=jQuery(e).find(".swiper-container"),T=new Swiper(E[0],{speed:k,effect:"slide",spaceBetween:P,loop:b,freeMode:m,autoplay:!1,slidesPerView:j,simulateTouch:n,pagination:Q,centeredSlides:a,navigation:t,slideActiveClass:"is-selected",mousewheel:x,on:{slideChangeTransitionEnd:function(){y(this,0),p(jQuery(this.el))},reachEnd:function(){o(this)},reachBeginning:function(){r(this)},slideChange:function(){u(this),h(this)},progress:function(){h(this),l(this),(x||n)&&y(this,0)},slideNextTransitionStart:function(){c(this)},slidePrevTransitionStart:function(){d(this)},loopFix:function(){f(jQuery(this.el)),p(jQuery(this.el))}}}),setTimeout((function(){T.autoplay.running||0==C||(T.params.autoplay=C,T.autoplay.start())}),v<=w?w-v:w,T),jQuery(e).addClass("initialized"),jQuery(e.parentNode).addClass("initialized"),jQuery(e.parentNode).data("myswiper",T),T.slidesLength=g,f(jQuery(e)),p(jQuery(e)),s(T),1!=(E=jQuery(e).find('.lay-carousel-slide[data-swiper-slide-index="0"]').not(".swiper-slide-duplicate").find("img")).length||E[0].complete?c(T):E[0].addEventListener("loaded",(function(){c(T)})),y(T,0),i(jQuery(e))})),m(),jQuery(window).on("resize",(function(e){jQuery(".swiper-container").css("width",""),jQuery(".captions-wrap").css("width",""),jQuery(".lay-carousel-wrap.no-fixed-slides-width.dont-show-multiple-slides").each((function(){jQuery(this).find(".lay-carousel-slide").css("width","")})),clearTimeout(a),a=setTimeout((function(){m()}),250)})),jQuery(".lay-carousel.transition-sliding.enable-click-and-drag").off("click"),jQuery(".lay-carousel.transition-sliding.enable-click-and-drag").on("click",(function(e){var t;jQuery(e.target).hasClass("laycarousel-custom-button")||jQuery(e.target).hasClass("html5video-customplayicon")||jQuery(e.target.parentNode).hasClass("flickity-prev-next-button")||jQuery(e.target).hasClass("flickity-prev-next-button")||jQuery(e.target).hasClass("lay-mute-unmute-button")||jQuery(e.target.parentNode.parentNode).is("a")||jQuery(e.target.parentNode).is("a")||jQuery(e.target).is("a")||(e=jQuery(this.parentNode).data("myswiper"),t=jQuery(this).hasClass("autoplay"),jQuery(this).hasClass("cursor-left")?e.slidePrev():e.slideNext(),t&&0==layCarousel.configMap.pauseAutoPlayOnHover&&function(e){e.autoplay.stop(),clearTimeout(jQuery(e.el).data("pausetimeout"));var t=setTimeout((function(){e.autoplay.start()}),3e3);jQuery(e.el).data("pausetimeout",t)}(e))})),document.removeEventListener("keydown",n),document.addEventListener("keydown",n)},pauseAllAutoplays:function(){jQuery(".lay-carousel.transition-sliding.autoplay").each((function(){jQuery(this.parentNode).data("myswiper").autoplay.stop()}))},resumeAllAutoplays:function(){jQuery(".lay-carousel.transition-sliding.autoplay").each((function(){jQuery(this.parentNode).data("myswiper").autoplay.start()}))},lazyLoadAndPausePlayVideosOnScroll:g}}();var lay_set_w100h100_classes=function(){jQuery(".lay-carousel-wrap").each((function(){var e=jQuery(this).hasClass("show-multiple-slides"),t=jQuery(this).hasClass("no-fixed-slides-width"),a=e&&t;jQuery(".lay-carousel-slide").each((function(){var e,t=(l=this.getBoundingClientRect()).height/l.width,n=0,i="";switch(jQuery(this).attr("data-slide-type")){case"html5video":n=(e=jQuery(this).find("video")).attr("data-ar");break;case"video":e=jQuery(this).find("iframe"),n=jQuery(this).find(".youtube-vimeo-video-slide").attr("data-ar");break;case"img":n=(e=jQuery(this).find("img")).attr("data-ar")}if(void 0!==e&&(i=!a&&n<t?(e.addClass("w100").removeClass("h100"),"w100"):(e.addClass("h100").removeClass("w100"),"h100")),"video"==jQuery(this).attr("data-slide-type")){var s=jQuery(this).find("iframe"),o=(t=jQuery(this).find(".youtube-vimeo-video-slide"),parseInt(t.attr("data-w"),10)),r=parseInt(t.attr("data-h"),10),l=this.getBoundingClientRect();switch(i){case"w100":r=r/o*l.width,s.css({width:"",height:r+"px"});break;case"h100":o=o/r*l.height,s.css({width:o+"px",height:""})}}}))}))},lay_carousel_setsizes=(jQuery(window).on("resize orientationchange",(function(){lay_set_w100h100_classes()})),jQuery(window).on("resize orientationchange",(function(){lay_carousel_set_element_widths()})),jQuery(window).on("resize orientationchange",_.debounce((function(){lay_carousel_setsizes()}),300)),function(){jQuery(".lay-carousel-slide-img, .lay-carousel-slide-postThumbnail").each((function(){jQuery(this).find("img").each((function(){var e,t,a,n=jQuery(this).closest(".slide-inner")[0].getBoundingClientRect();"cover"==jQuery(this).attr("data-parent-fit")?(a=0,a=(e=parseInt(jQuery(this).attr("data-w"),10))/(t=parseInt(jQuery(this).attr("data-h"),10))<n.width/n.height?n.width:e/t*n.height,a=roundUpSizes(a),jQuery(this).attr("sizes",parseInt(a,10)+"px")):0!=n.width&&(a=n.width,a=roundUpSizes(a),jQuery(this).attr("sizes",parseInt(a,10)+"px"))}))}))}),roundUpSizes=function(e){for(var t=[265,512,768,1024,1280,1920,2560,3200,3840,4096],a=e,n=0;n<t.length;n++)if(e<=t[n]){a=t[n];break}return a},lay_carousel_set_element_widths=function(){1!=layCarouselPassedData.lessSizing&&jQuery(".lay-carousel-wrap.show-multiple-slides.no-fixed-slides-width").each((function(){jQuery(this).find(".lay-carousel-slide img").each((function(){var e=parseInt(jQuery(this).height(),10),t=parseInt(jQuery(this).attr("data-w"),10),a=parseInt(jQuery(this).attr("data-h"),10);jQuery(this).css("width",t/a*e),jQuery(this).closest(".lay-carousel-slide").css("width",t/a*e)})),jQuery(this).find(".lay-carousel-slide video").each((function(){var e,t,a;this.hasAttribute("data-w")&&(e=parseInt(jQuery(this).height(),10),t=parseInt(jQuery(this).attr("data-w"),10),a=parseInt(jQuery(this).attr("data-h"),10),jQuery(this).css("width",t/a*e),jQuery(this).closest(".lay-carousel-slide").css("width",t/a*e))})),jQuery(this).find(".lay-carousel-slide iframe").each((function(){var e=parseInt(jQuery(this).height(),10),t=parseInt(jQuery(this).closest(".youtube-vimeo-video-slide").attr("data-w"),10),a=parseInt(jQuery(this).closest(".youtube-vimeo-video-slide").attr("data-h"),10);jQuery(this).closest(".lay-carousel-slide").css("width",t/a*e)}))}))};layCarousel.tabVisible=function(){var e,t,a=!0;return void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),void 0===document.addEventListener||void 0===e?console.log("visibility api not supported https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API"):document.addEventListener(t,(function(){document[e]?(a=!1,window.laytheme.trigger("tabhidden")):(a=!0,window.laytheme.trigger("tabshown"))}),!1),{isTabVisible:a=function(){return a}}}();